# 3. 서블릿, JSP, MVC 패턴
MVC 패턴을 이용해 서블릿 및 JSP로 회원관리 웹 애플리케이션 작성
<br>
<br>
## 서블릿을 이용해 작성
- response.setXXX() 메소드를 사용해 응답메세지의 타입과 인코딩 방식 지정
- PrintWriter 객체를 생성해 직접 html을 작성해준다.
- 필요에 따라 데이터 조회, 저장 등의 동작을 수행하고, 결과를 출력
```java
w.write("<!DOCTYPE html>\n" +
  "<html>\n" +
  "<head>\n" +
  "    <meta charset=\"UTF-8\">\n" +
  "    <title>Title</title>\n" +
  "</head>\n" +
  "<body>\n" +
  "<form action=\"/servlet/members/save\" method=\"post\">\n" +
  "    username: <input type=\"text\" name=\"username\" />\n" +
  "    age:      <input type=\"text\" name=\"age\" />\n" +
  " <button type=\"submit\">전송</button>\n" + "</form>\n" +
  "</body>\n" +
  "</html>\n");
  ```
<br>
<br>

## JSP를 이용해 작성
- 템플릿 엔진 중 하나인 JSP를 이용해 작성
- jsp 파일 형식에 맞추어 자바 코드와 HTML을 작성한다.

### 두 방식의 문제점
- 자바 코드와 HTML이 한 파일에 섞여있어 복잡하고 비효율적이다.
- 프로젝트의 규모가 커질수록 가독성이 떨어지고 유지보수가 힘들다.
<br>
<br>
## MVC 패턴
- 비즈니스 로직과 뷰 렌더링을 분리하기 위해 등장
- 둘 사이에 변경의 라이프사이클이 다르기 때문에 이 둘을 하나의 코드로 관리하는 것은 유지보수 하기에 좋지 않다.
- 따라서 모델-뷰-컨트롤러로 역할을 분리하는 방법이 MVC 패턴이다.

> **컨트롤러**: HTTP 요청을 받아서 파라미터를 검증하고, 비즈니스 로직을 실행한다. 그리고 뷰에 전달할 결과 데이터를 조회해서 모델에 담는다. 

> **모델**: 뷰에 출력할 데이터를 담아둔다. 뷰가 필요한 데이터를 모두 모델에 담아서 전달해주는 덕분에 뷰는 비즈니스 로직이나 데이터 접근을 몰라도 되고, 화면을 렌더링 하는 일에 집중할 수 있다.

> **뷰**: 모델에 담겨있는 데이터를 사용해서 화면을 그리는 일에 집중한다. 여기서는 HTML을 생성하는 부분을 말한다.

<br>

## 서블릿을 컨트롤러로, JSP를 뷰로 사용하여 MVC패턴 적용
- 서블릿의 기능을 이용해 비즈니스 로직을 처리하고, 모델에 데이터를 담는다.
- 그 후, dispatcher와 viewPath를 이용해 JSP로 데이터를 넘긴다.
- JSP에서는 모델에 담겨온 데이터로 뷰(view) 역할을 수행한다.